<Window x:Class="SklepInternetowyWPF.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Sklep Internetowy" Height="600" Width="920">
    <DockPanel>
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Background="LightGray" Height="50">
            <Button Content="Strona główna" Margin="10"/>
            <Button Content="Koszyk" Margin="10" Click="Cart_Click" />
            <Button Content="Historia" Margin="10" Click="History_Click"/>
            <Button x:Name="LoginButton" Content="Zaloguj się" Margin="10" Click="LoginButton_Click"/>
        </StackPanel>

        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Filtrowanie -->
            <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10">
                <TextBox x:Name="SearchBox" Width="200" Margin="5" />

                <ComboBox x:Name="CategoryFilterBox"
              Width="150" Margin="5"
              DisplayMemberPath="Name"
              SelectedValuePath="Id" />

                <Button Content="Szukaj" Margin="5" Click="Search_Click"/>

                <Button x:Name="AddButton" Content="Dodaj produkt" Width="120" Margin="5" Click="AddProduct_Click"/>
                <Button x:Name="EditButton" Content="Edytuj produkt" Width="120" Margin="5" Click="EditProduct_Click"/>
                <Button x:Name="DeleteButton" Content="Usuń produkt" Width="120" Margin="5" Click="DeleteProduct_Click"/>
            </StackPanel>


            <!-- Lista produktów -->
            <ListView x:Name="ProductList" Grid.Row="1" Margin="5" ItemsSource="{Binding Products}">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="{Binding NameHeader}" Width="200">
                            <GridViewColumn.HeaderContainerStyle>
                                <Style TargetType="GridViewColumnHeader">
                                    <EventSetter Event="Click" Handler="SortByName_Click"/>
                                </Style>
                            </GridViewColumn.HeaderContainerStyle>
                            <GridViewColumn.DisplayMemberBinding>
                                <Binding Path="Name"/>
                            </GridViewColumn.DisplayMemberBinding>
                        </GridViewColumn>

                        <GridViewColumn Header="Opis" Width="300" DisplayMemberBinding="{Binding Description}"/>

                        <GridViewColumn Header="{Binding PriceHeader}" Width="100">
                            <GridViewColumn.HeaderContainerStyle>
                                <Style TargetType="GridViewColumnHeader">
                                    <EventSetter Event="Click" Handler="SortByPrice_Click"/>
                                </Style>
                            </GridViewColumn.HeaderContainerStyle>
                            <GridViewColumn.DisplayMemberBinding>
                                <Binding Path="Price"/>
                            </GridViewColumn.DisplayMemberBinding>
                        </GridViewColumn>

                        <GridViewColumn Header="Kategoria" Width="150" DisplayMemberBinding="{Binding CategoryName}"/>

                        <GridViewColumn Header="Koszyk" Width="120">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="Dodaj do koszyka" Click="AddToCart_Click"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                    </GridView>
                </ListView.View>
            </ListView>
        </Grid>

    </DockPanel>
</Window>
